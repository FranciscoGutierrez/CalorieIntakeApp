<template name="basket">
  <div class="basket-container">
    {{#if dashboard}}
    <h2>My Plate</h2>
    {{else}}
    <h2>Favorites <span>{{size}}/20</span></h2>
    {{/if}}
    <!-- <div class="avg-nutriscore">
      {{#if avgNutriscore}}
      <img class="product-grade" src="nutriscore/{{avgNutriscore}}.svg"/>
      {{/if}}
    </div> -->
    {{#if dashboard}}
    {{> myplate}}
    {{/if}}
    <div class="row">
      {{#each basket}}
      {{> basketItem}}
      {{/each}}
    </div>
    {{#unless dashboard}}
    <paper-button class="save-profile">Go to dashboard</paper-button>
    {{/unless}}
  </div>
</template>

<template name="favorite">
  <div class="fav-product">
    <img class="fav-image animated fadeIn" src="{{data.image}}"/>
    <div class="fav-name">{{data.name}}</div>
    <paper-ripple></paper-ripple>
  </div>
</template>

<template name="myplate">
  <div class="myplate">
    <!-- <div class="bar b-cal" style="height:{{data.energy}}px;"></div> -->

    <div class="bar-container">
      <div class="basket-products">
        <div class="basket-placeholder">
          <div class="dot-product placeholder"></div>
          <div class="dot-product placeholder"></div>
          <div class="dot-product placeholder"></div>
        </div>
        {{#each basket.veggies}}
        {{> dot name="veggies" id=this}}
        {{/each}}
      </div>
      <span>Vegetables</span>
    </div>

    <div class="bar-container">
      <div class="basket-products">
        <div class="basket-placeholder">
          <div class="dot-product placeholder"></div>
          <div class="dot-product placeholder"></div>
        </div>
        {{#each basket.fruits}}
        {{> dot name="fruits" id=this}}
        {{/each}}
      </div>
      <span>Fruits</span>
    </div>

    <div class="bar-container">
      <div class="basket-products">
        <div class="basket-placeholder">
          <div class="dot-product placeholder"></div>
        </div>
        {{#if warn.proteins}}
        <iron-icon icon="warning"><div class="tooltiptext">limit red meat</div></iron-icon>
        {{/if}}
        {{#each basket.proteins}}
        {{> dot name="proteins" id=this}}
        {{/each}}
      </div>
      <span>Proteins</span>
    </div>

    <div class="bar-container">
      <div class="basket-products">
        <div class="basket-placeholder">
          <div class="dot-product placeholder"></div>
        </div>
        {{#if warn.grains}}
        <iron-icon icon="warning"><div class="tooltiptext">avoid refined grains</div></iron-icon>
        {{/if}}
        {{#each basket.grains}}
        {{> dot name="grains" id=this}}
        {{/each}}
      </div>
      <span>Whole Grains</span>
    </div>

    <div class="bar-container">
      <div class="basket-products">
        {{#each basket.water}}
        {{> dot name="water" id=this}}
        {{/each}}
      </div>
      <span>Water</span>
    </div>

    <div class="bar-container">
      <div class="basket-products">
        {{#if warn.dairy}}
        <iron-icon icon="warning"><div class="tooltiptext">avoid high intakes</div></iron-icon>
        {{/if}}
        {{#each basket.dairy}}
        {{> dot name="dairy" id=this}}
        {{/each}}
      </div>
      <span>Dairy</span>
    </div>


    <div class="bar-container">
      <div class="basket-products">
        {{#if warn.junk}}
        <iron-icon icon="warning"><div class="tooltiptext">try to avoid</div></iron-icon>
        {{/if}}
        {{#each basket.junk}}
          {{> dot name="junk" id=this }}
        {{/each}}
      </div>
      <span>Others</span>
    </div>

  </div>
</template>

<template name="dot">
  <div class="dot-product {{name}} product-{{id}}">
    <paper-ripple></paper-ripple>
  </div>
</template>


<template name="basketItem">
  <div class="basket-product product-{{data.id}}">
    <img class="fav-image animated fadeIn" src="products/{{data.id}}.jpg"/>
    <paper-ripple></paper-ripple>
  </div>
</template>
